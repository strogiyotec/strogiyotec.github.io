<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="description" content="postgres,transactions">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Read committed re-evaluation</title>
    <link rel="stylesheet" href="../../css/font-awesome.min.css">
    <link rel="stylesheet" href="../../css/main.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163711919-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-163711919-1');
    </script>
</head>
<body>
<header class="site-header">
    <div class="wrapper">
        <div class="centered">
            <img src="../../images/author.png" alt="Author" class="photo">
            <ul class="horizontal-list">
                <li>
                    <a title="Follow me on Github" href="https://github.com/strogiyotec">
                        <i class="fa fa-github fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a title="Feel free to drop me a line" href="mailto:almas337519@gmail.com">
                        <i class="fa fa-envelope fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a title="Check my stack-overflow account"
                       href="https://stackoverflow.com/users/8019439/almas-abdrazak">
                        <i class="fa fa-stack-overflow fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
                <li>
                    <a type="Follow me on medium" href="https://medium.com/@almas337519">
                        <i class="fa fa-medium fa-lg" aria-hidden="true"></i>
                    </a>
                </li>
            </ul>
        </div>
        <nav class="site-nav">
            <a href="#" class="menu-icon">
                <svg viewBox="0 0 18 15">
                    <path fill="#424242"
                          d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path>
                    <path fill="#424242"
                          d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path>
                    <path fill="#424242"
                          d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path>
                </svg>
            </a>
            <div class="trigger">
                <a class="page-link" href="../../index.html">About</a>
                <a class="page-link" href="../blogs.html">Blog</a>
            </div>
        </nav>
    </div>
</header>
<div class="page-content">
    <div class="wrapper">
        <div class="post">
            <header class="post-content">
                <h1 class="post-title">Read committed re-evaluation</h1>
                <p class="post-meta">May 13 , 2020</p>
            </header>
            <article class="post-content">
                <p>
                    Read committed. Default Isolation level for postgres based transactions. As Isolation level it
                    prevents
                    transactions to see uncommitted changes of other transactions(transaction still sees own uncommitted
                    changes).
                    If you are not familiar with this isolation level I highly encourage you to take a look at the <a
                        href="https://www.postgresql.org/docs/9.5/transaction-iso.html">Official documentation</a>.
                    However , some sentences from documentation were unclear fo me so I assume that I could clarify them
                    for those who are as bad in Database theory as I am
                </p>
                <figure class="articleimg">
                    <img src="../../images/tom_read_book.jpg" alt="Tom Reads book">
                    <figcaption>
                        Tom &amp; Jerry by William Hanna and Joseph Barbera
                    </figcaption>
                </figure>
                <h1 id="reevaluated">Re-evaluated</h1>
                <p>The most confusing sentence for me was the one that describes re-evaluation of <code
                        class="language-plaintext highlighter-rouge">WHERE</code> clause namely</p>
                <blockquote>
                    The search condition of the command (the WHERE clause) is re-evaluated to see if the updated version
                    of the row still matches the search condition.
                    If so, the second updater proceeds with its operation using the updated version of the row.
                    In the case of SELECT FOR UPDATE and SELECT FOR SHARE,
                    this means it is the updated version of the row that is locked and returned to the client.
                </blockquote>
                <p> I want to emphasize that the quote above works only for <code
                        class="language-plaintext highlight-rouge">UPDATE, DELETE, SELECT FOR UPDATE, and SELECT FOR
                    SHARE</code> which means that it doesn't work for plain selects.
                    <br>
                    Let's see how it works with our best friends Alice and Bob and the best designed table called
                    account
                    <code class="language-plaintext highlight-rouge">CREATE TABLE account(id int primary key,name
                        text,amount int);</code>
                </p>
                <p>Now let's insert two values into the table <code class="language-plaintext highlight-rouge">insert
                    INTO account(id,name,amount) VALUES (1,'Bob',200),(2,'Bob',800)</code>
                    <br>

                </p>
            </article>
        </div>
    </div>
</div>
<footer class="site-footer">
    <div class="centered">
        Â© strogiyotec.github.io 2020
        <span>Website last updated at: <span id="lastupdated"></span></span>
    </div>
    <script type="application/javascript" src="../../js/updated_at.js"></script>
</footer>
</body>
</html>